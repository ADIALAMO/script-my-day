/*
Copyright (c) 2025 adi alamo. All rights reserved.
This file and all related source code are the intellectual property of adi alamo.
Unauthorized copying, distribution, or use of this code or its concept is strictly prohibited.
For license details, see the LICENSE file in the project root.
Contact: adialamo@gmail.com
*/

/* עיצוב מקצועי, פרופורציות, micro-animations, צבעוניות קומיקס */
:root {
  --primary-color: #6c63ff;
  --primary-hover: #48c6ef;
  --secondary-color: #f7b801;
  --accent-color: #ff6584;
  --text-color: #23272e;
  --background-color: #f5f6fa;
  --background-gradient: linear-gradient(135deg, #f5f6fa 0%, #e3e6ed 100%);
  --container-bg: #fff;
  --card-bg: #f8f9fd;
  --card-bg-dark: #23272e;
  --border-color: #e3e6ed;
  --shadow: 0 4px 24px rgba(44,62,80,0.10), 0 1.5px 6px #6c63ff22;
  --radius: 20px;
  --transition: 0.25s cubic-bezier(.4,2,.6,1);
  --font-family-main: 'Rubik', 'Heebo', sans-serif;
}

body {
  font-family: var(--font-family-main);
  background: var(--background-gradient);
  color: var(--text-color);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  box-sizing: border-box;
  transition: background var(--transition), color var(--transition);
}

body.dark {
  background: linear-gradient(135deg, #181c20 0%, #23272e 100%) !important;
  color: #f5f6fa !important;
}

.main-header {
  background: transparent;
  box-shadow: none;
  margin-bottom: 0;
  padding: 0;
}

.header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 900px;
  margin: 0 auto;
  padding: 1.2em 1.5em 0.5em 1.5em;
}

.logo {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  box-shadow: 0 2px 8px #6c63ff22;
  background: #fff;
}

/* כפתורי שפה ו-theme בפינה שמאלית עליונה */
.lang-switcher-corner {
  display: flex;
  gap: 8px;
  align-items: center;
  background: none;
  position: static;
  box-shadow: none;
  padding: 0;
}

.lang-btn, .theme-btn {
  font-size: 1em;
  font-weight: 700;
  padding: 0.5em 1.2em;
  border-radius: 16px;
  border: none;
  background: #e3e6ed;
  color: #6c63ff;
  margin: 0 2px;
  box-shadow: 0 1px 4px #6c63ff22;
  transition: background var(--transition), color var(--transition), box-shadow var(--transition), transform var(--transition);
  cursor: pointer;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 80px;
}

.lang-btn.active, .theme-btn.active {
  background: linear-gradient(90deg, #6c63ff 0%, #48c6ef 100%);
  color: #fff;
  box-shadow: 0 2px 8px #6c63ff33;
  transform: scale(1.06);
}

.lang-btn:hover:not(.active), .theme-btn:hover:not(.active) {
  background: #f5f6fa;
  color: #6c63ff;
}

body.dark .lang-btn, body.dark .theme-btn {
  background: #23272e;
  color: #f5f6fa;
  border: 1.5px solid #353a40;
}

body.dark .lang-btn.active, body.dark .theme-btn.active {
  background: linear-gradient(90deg, #48c6ef 0%, #6c63ff 100%);
  color: #fff;
}

.hero {
  background: none;
  margin: 0 auto 0.5em auto;
  padding: 0;
}

.hero-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  max-width: 600px;
  margin: 0 auto;
}

.hero-title {
  font-size: 2.3em;
  font-weight: 900;
  margin: 0.2em 0 0.1em 0;
  color: var(--primary-color);
  text-shadow: 0 2px 8px #6c63ff22;
  letter-spacing: 0.01em;
}

.hero-desc {
  font-size: 1.15em;
  color: var(--accent-color);
  margin-bottom: 1.2em;
  margin-top: 0.2em;
}

.hero-img {
  width: 120px;
  height: 120px;
  border-radius: 24px;
  box-shadow: 0 4px 24px #6c63ff22;
  margin: 0.5em auto 0 auto;
  display: block;
  background: #fff;
  border: 3px solid #e3e6ed;
  animation: popin 0.7s cubic-bezier(.4,2,.6,1);
}

@keyframes popin {
  0% { transform: scale(0.7); opacity: 0; }
  80% { transform: scale(1.08); }
  100% { transform: scale(1); opacity: 1; }
}

.card, .input-card, .result-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1.5px solid var(--border-color);
  padding: 1.2em 1.5em;
  max-width: 480px;
  width: 100%;
  margin: 1.2em auto 1.2em auto;
  transition: background var(--transition), box-shadow var(--transition);
}

body.dark .card, body.dark .input-card, body.dark .result-card {
  background: var(--card-bg-dark) !important;
  color: #f5f6fa !important;
  border-color: #353a40 !important;
}

.input-card {
  margin-bottom: 0.7em;
}

.result-card {
  margin-top: 0.7em;
}

#genre-carousel {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(56px, 1fr));
  gap: 0.5em;
  margin: 1.1em 0 0.7em 0;
  justify-items: center;
}

.genre-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 7.5em;
  min-height: 3.5em;
  padding: 0.7em 1.6em;
  font-size: 1.35em;
  font-family: inherit;
  border-radius: 2.2em;
  border: 3px solid #111;
  background: #fffbe6;
  color: #222;
  font-weight: 700;
  margin: 0.4em 0.5em 0.4em 0.5em;
  box-shadow: 0 2px 8px #0001, 0 0 0 4px #fff inset;
  transition: background 0.18s, box-shadow 0.18s, color 0.18s, border 0.18s;
  cursor: pointer;
  overflow: hidden;
  gap: 0.7em;
  white-space: nowrap;
}

.genre-btn span {
  font-size: 1em;
  margin-inline-start: 0.4em;
  font-weight: 700;
  letter-spacing: 0.01em;
}

.genre-btn.selected {
  background: #ffe600;
  color: #111;
  border-color: #222;
  box-shadow: 0 0 0 4px #ffe60055;
}

.genre-btn:focus {
  outline: none;
  box-shadow: 0 0 0 4px #ffe600, 0 2px 8px #0001;
}

.genre-carousel {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.7em;
  margin-bottom: 1.2em;
}

/* כפתור CTA קופץ */
.button.main-cta {
  background: linear-gradient(90deg, #6c63ff 0%, #48c6ef 100%);
  color: #fff;
  border: none;
  border-radius: 32px;
  font-size: 1.1em;
  padding: 0.7em 2.2em;
  box-shadow: 0 2px 8px #6c63ff22;
  transition: background var(--transition), box-shadow var(--transition), transform var(--transition);
  margin: 0.7em auto 0.2em auto;
  display: block;
  animation: cta-bounce 2.5s infinite cubic-bezier(.4,2,.6,1);
}

@keyframes cta-bounce {
  0%, 100% { transform: scale(1); }
  10% { transform: scale(1.08); }
  20% { transform: scale(0.98); }
  30% { transform: scale(1.04); }
  40% { transform: scale(1); }
}

.button.main-cta:hover {
  background: linear-gradient(90deg, #48c6ef 0%, #6c63ff 100%);
  box-shadow: 0 4px 16px #6c63ff44;
  transform: scale(1.04);
}

.secondary-btn {
  background: #e3e6ed;
  color: #6c63ff;
  font-weight: 700;
  border-radius: 16px;
  border: none;
  margin: 0 4px;
  padding: 0.5em 1.2em;
  font-size: 1em;
  box-shadow: 0 1px 4px #6c63ff22;
  transition: background var(--transition), color var(--transition), box-shadow var(--transition), transform var(--transition);
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

.secondary-btn:active {
  background: #48c6ef;
  color: #fff;
}

body.dark .secondary-btn {
  background: #23272e;
  color: #f5f6fa;
  border: 1.5px solid #353a40;
}

.result-actions {
  display: flex;
  justify-content: center;
  gap: 0.5em;
  margin-top: 0.5em;
}

/* highlight תיבת תוצאה */
#script-output {
  max-width: 100%;
  max-height: 220px;
  overflow-x: auto;
  overflow-y: auto;
  background: #f7f7fa;
  border-radius: 12px;
  border: 1px solid #e3e6ed;
  margin: 0.5em 0 1em 0;
  padding: 1em 1.2em;
  font-size: 1.05em;
  white-space: pre-wrap;
  word-break: break-word;
  box-sizing: border-box;
  transition: box-shadow var(--transition);
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  animation: highlight-fade 1.2s cubic-bezier(.4,2,.6,1);
}

@keyframes highlight-fade {
  0% { box-shadow: 0 0 0 6px #f7b80155; }
  100% { box-shadow: 0 2px 8px rgba(0,0,0,0.07); }
}

body.dark #script-output {
  background: #23272e;
  color: #f5f6fa;
  border-color: #353a40;
}

.footer {
  background: none;
  color: #6c63ff;
  font-size: 1em;
  opacity: 0.85;
  text-align: center;
  margin: 2em 0 0 0;
}

.footer span::before {
  content: "❤️ ";
  font-size: 1.1em;
}

.footer-links a {
  color: #6c63ff;
  text-decoration: underline dotted;
  margin: 0 0.5em;
  font-size: 0.98em;
  transition: color var(--transition);
  border-bottom: 2px solid transparent;
}

.footer-links a:hover {
  color: #48c6ef;
  border-bottom: 2px solid var(--accent-color);
}

/* === Comic Panel Card Styles === */
.comic-panel-card {
  position: relative;
  border: 4px solid #111;
  border-radius: 2.2rem;
  margin-bottom: 1.2em;
  box-shadow: 0 4px 16px 0 #0002, 0 0 0 4px #fff inset;
  padding: 1.2em 1.5em 2.5em 1.5em;
  overflow: visible;
  animation: panelIn 0.7s cubic-bezier(.7,-0.2,.3,1.4);
  outline: none;
  transition: box-shadow 0.18s;
}
.comic-panel-card:focus {
  box-shadow: 0 0 0 4px #ffe600, 0 4px 16px 0 #0002;
}
.comic-bg-yellow { background: #fffbe6; }
.comic-bg-blue   { background: #e6f0ff; }
.comic-bg-red    { background: #ffe6e6; }
.comic-bg-green  { background: #e6ffe6; }

.comic-bubble {
  position: relative;
  background: #fff;
  border: 4px solid #111;
  border-radius: 2.5rem;
  padding: 1.1em 1.6em 1.2em 1.6em;
  font-family: 'Rubik', 'Heebo', Arial, sans-serif;
  font-size: 1.13em;
  color: #111;
  box-shadow: 0 2px 8px #0001, 0 0 0 4px #fff inset;
  margin-bottom: 0.2em;
  z-index: 1;
  min-height: 2.5em;
  display: flex;
  align-items: center;
  gap: 0.7em;
}
.bubble-icon {
  font-size: 1.5em;
  margin-inline-end: 0.3em;
}
.bubble-text {
  flex: 1;
  word-break: break-word;
  direction: inherit;
}
.bubble-tail {
  position: absolute;
  left: 2.5em;
  bottom: -1.2em;
  width: 2.2em;
  height: 2.2em;
  z-index: 0;
  pointer-events: none;
}
.bubble-tail::after {
  content: '';
  display: block;
  width: 100%; height: 100%;
  background: transparent;
  border-bottom-left-radius: 100% 80%;
  border: 0 solid transparent;
  border-bottom: 8px solid #fff;
  border-left: 8px solid #111;
  box-sizing: border-box;
  transform: rotate(-18deg);
}

@keyframes panelIn {
  0% { opacity: 0; transform: scale(0.92) translateY(30px); }
  80% { opacity: 1; transform: scale(1.04) translateY(-6px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

[dir="rtl"] .comic-panel-card {
  direction: rtl;
}
[dir="rtl"] .bubble-tail {
  left: auto;
  right: 2.5em;
  transform: scaleX(-1);
}
@media (max-width: 600px) {
  [dir="rtl"] .bubble-tail { right: 1.2em; }
}

@media (max-width: 600px) {
  .header-row, .hero-content, .card, .input-card, .result-card {
    max-width: 98vw;
    padding: 0.7em 0.5em;
  }
  .logo {
    width: 36px;
    height: 36px;
  }
  .hero-img {
    width: 80px;
    height: 80px;
  }
  .genre-btn {
    min-width: 90vw;
    font-size: 1.1em;
    padding: 0.7em 0.7em;
  }
  .input-textarea {
    min-height: 120px;
    height: 150px;
    font-size: 1em;
    padding: 0.8em 0.7em;
  }
}
