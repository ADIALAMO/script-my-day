/*
Copyright (c) 2025 adi alamo. All rights reserved.
This file and all related source code are the intellectual property of adi alamo.
Unauthorized copying, distribution, or use of this code or its concept is strictly prohibited.
For license details, see the LICENSE file in the project root.
Contact: adialamo@gmail.com
*/

/* עיצוב מקצועי, פרופורציות, micro-animations, צבעוניות קומיקס */
:root {
  --primary-color: #6c63ff;
  --primary-hover: #48c6ef;
  --secondary-color: #f7b801;
  --accent-color: #ff6584;
  --text-color: #23272e;
  --background-color: #f5f6fa;
  --background-gradient: linear-gradient(135deg, #f5f6fa 0%, #e3e6ed 100%);
  --container-bg: #fff;
  --card-bg: #f8f9fd;
  --card-bg-dark: #23272e;
  --border-color: #e3e6ed;
  --shadow: 0 4px 24px rgba(44,62,80,0.10), 0 1.5px 6px #6c63ff22;
  --radius: 20px;
  --transition: 0.25s cubic-bezier(.4,2,.6,1);
  --font-family-main: 'Rubik', 'Heebo', sans-serif;
}

body {
  font-family: var(--font-family-main);
  background: var(--background-gradient);
  color: var(--text-color);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  box-sizing: border-box;
  transition: background var(--transition), color var(--transition);
}

html.dark body {
  background: linear-gradient(135deg, #181c20 0%, #23272e 100%) !important;
  border: none !important;
  transition: background 0.5s cubic-bezier(.4,2,.6,1);
}

html.dark {
  --primary-color: #48c6ef;
  --accent-color: #ffe600;
  --text-color: #f5f6fa;
  --background-color: #23272e;
  --background-gradient: linear-gradient(135deg, #181c20 0%, #23272e 100%);
  --container-bg: #23272e;
  --card-bg: #23272e;
  --card-bg-dark: #181c20;
  --border-color: #353a40;
  --shadow: 0 4px 24px rgba(44,62,80,0.18), 0 1.5px 6px #48c6ef33;
}

html.dark .main-header,
html.dark .header-row {
  background: transparent;
  box-shadow: none;
}

html.dark .logo {
  background: #23272e;
  border: 2px solid #353a40;
  box-shadow: 0 2px 8px #48c6ef33;
}

html.dark .hero-title {
  color: var(--primary-color);
  text-shadow: 0 2px 8px #48c6ef33;
}

html.dark .hero-desc {
  color: var(--accent-color);
}

html.dark .hero-img {
  background: #23272e;
  border: 3px solid #353a40;
  box-shadow: 0 4px 24px #48c6ef33;
}

html.dark .card, html.dark .input-card, html.dark .result-card {
  background: var(--card-bg-dark) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
  box-shadow: var(--shadow) !important;
}

html.dark .lang-btn, html.dark .theme-btn {
  background: #23272e;
  color: #ffe600;
  border: 1.5px solid #353a40;
  box-shadow: 0 1px 4px #48c6ef33;
}
html.dark .lang-btn.active, html.dark .theme-btn.active {
  background: linear-gradient(90deg, #48c6ef 0%, #6c63ff 100%);
  color: #fff;
}

html.dark .genre-btn {
  background: #23272e;
  color: #ffe600;
  border: 1.5px solid #353a40;
  box-shadow: 0 1px 4px #48c6ef33;
}
html.dark .genre-btn.selected {
  background: #ffe600;
  color: #23272e;
  border-color: #ffe600;
  box-shadow: 0 0 0 4px #ffe60055;
}

html.dark .button.main-cta {
  background: linear-gradient(90deg, #48c6ef 0%, #ffe600 100%);
  color: #23272e;
  border-color: #ffe600;
  box-shadow: 0 2px 8px #48c6ef33, 0 0 0 4px #23272e inset;
}
html.dark .button.main-cta:focus, html.dark .button.main-cta:hover {
  background: linear-gradient(90deg, #ffe600 0%, #48c6ef 100%);
  color: #23272e;
  border-color: #23272e;
  box-shadow: 0 0 0 4px #48c6ef, 0 2px 8px #ffe60055;
}

html.dark .secondary-btn {
  background: #23272e;
  color: #ffe600;
  border-color: #353a40;
  box-shadow: 0 1.5px 6px #48c6ef33, 0 0 0 3px #23272e inset;
}
html.dark .secondary-btn:focus, html.dark .secondary-btn:hover {
  background: #ffe600;
  color: #23272e;
  border-color: #23272e;
  box-shadow: 0 0 0 4px #48c6ef, 0 2px 8px #ffe60055;
}

html.dark .script-professional {
  background: #23272e;
  color: #ffe600;
  border-color: #353a40;
  box-shadow: 0 2px 8px #48c6ef33;
}

html.dark .footer {
  color: #ffe600;
}

html.dark .footer-links a {
  color: #48c6ef;
  border-bottom: 2px solid #ffe600;
}
html.dark .footer-links a:hover {
  color: #ffe600;
  border-bottom: 2px solid #48c6ef;
}

html.dark #script-output {
  background: #181c20;
  color: #ffe600;
  border-color: #353a40;
  box-shadow: 0 2px 8px #48c6ef33;
}

.main-header {
  background: transparent;
  box-shadow: none;
  margin-bottom: 0;
  padding: 0;
}

.header-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: 900px;
  margin: 0 auto;
  padding: 1.2em 1.5em 0.5em 1.5em;
}

.logo {
  width: 48px;
  height: 48px;
  border-radius: 12px;
  box-shadow: 0 2px 8px #6c63ff22;
  background: #fff;
}

/* כפתורי שפה ו-theme בפינה שמאלית עליונה */
.lang-switcher-corner {
  display: flex;
  gap: 8px;
  align-items: center;
  background: none;
  position: static;
  box-shadow: none;
  padding: 0;
}

.lang-btn, .theme-btn {
  font-size: 1em;
  font-weight: 700;
  padding: 0.5em 1.2em;
  border-radius: 16px;
  border: none;
  background: #e3e6ed;
  color: #6c63ff;
  margin: 0 2px;
  box-shadow: 0 1px 4px #6c63ff22;
  transition: background var(--transition), color var(--transition), box-shadow var(--transition), transform var(--transition);
  cursor: pointer;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 80px;
}

.lang-btn.active, .theme-btn.active {
  background: linear-gradient(90deg, #6c63ff 0%, #48c6ef 100%);
  color: #fff;
  box-shadow: 0 2px 8px #6c63ff33;
  transform: scale(1.06);
}

.lang-btn:hover:not(.active), .theme-btn:hover:not(.active) {
  background: #f5f6fa;
  color: #6c63ff;
}

html.dark .lang-btn, html.dark .theme-btn {
  background: #23272e;
  color: #ffe600;
  border: 1.5px solid #353a40;
  box-shadow: 0 1px 4px #48c6ef33;
}

html.dark .lang-btn.active, html.dark .theme-btn.active {
  background: linear-gradient(90deg, #48c6ef 0%, #6c63ff 100%);
  color: #fff;
}

.hero {
  background: none;
  margin: 0 auto 0.5em auto;
  padding: 0;
}

.hero-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  max-width: 600px;
  margin: 0 auto;
}

.hero-title {
  font-size: 2.3em;
  font-weight: 900;
  margin: 0.2em 0 0.1em 0;
  color: var(--primary-color);
  text-shadow: 0 2px 8px #6c63ff22;
  letter-spacing: 0.01em;
  font-family: 'Rubik', 'Heebo', 'Segoe UI', 'Arial', sans-serif;
}

.hero-desc {
  font-size: 1.15em;
  color: var(--accent-color);
  margin-bottom: 1.2em;
  margin-top: 0.2em;
  font-family: 'Heebo', 'Rubik', 'Segoe UI', 'Arial', sans-serif;
  font-weight: 700;
  font-size: 1.18em;
  letter-spacing: 0.01em;
}

.hero-img {
  width: 120px;
  height: 120px;
  border-radius: 24px;
  box-shadow: 0 4px 24px #6c63ff22;
  margin: 0.5em auto 0 auto;
  display: block;
  background: #fff;
  border: 3px solid #e3e6ed;
  animation: popin 0.7s cubic-bezier(.4,2,.6,1), floaty 3.5s ease-in-out infinite alternate;
}
@keyframes floaty {
  0% { transform: translateY(0) scale(1); }
  100% { transform: translateY(-12px) scale(1.04); }
}

@keyframes popin {
  0% { transform: scale(0.7); opacity: 0; }
  80% { transform: scale(1.08); }
  100% { transform: scale(1); opacity: 1; }
}

.card, .input-card, .result-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 1.5px solid var(--border-color);
  padding: 1.2em 1.5em;
  max-width: 480px;
  width: 100%;
  margin: 1.2em auto 1.2em auto;
  transition: background var(--transition), box-shadow var(--transition);
}

html.dark .card, html.dark .input-card, html.dark .result-card {
  background: var(--card-bg-dark) !important;
  color: var(--text-color) !important;
  border-color: var(--border-color) !important;
  box-shadow: var(--shadow) !important;
}

.card, .input-card, .result-card {
  transition: box-shadow 0.25s cubic-bezier(.4,2,.6,1), background 0.25s cubic-bezier(.4,2,.6,1);
}
.card:hover, .input-card:hover, .result-card:hover {
  box-shadow: 0 8px 32px #6c63ff33, 0 2px 8px #48c6ef33;
  background: #f7f7fa;
}
html.dark .card:hover, html.dark .input-card:hover, html.dark .result-card:hover {
  box-shadow: 0 8px 32px #48c6ef33, 0 2px 8px #ffe60033;
  background: #23272e;
}

.input-card {
  margin-bottom: 0.7em;
}

.result-card {
  margin-top: 0.7em;
}

/* === Genre Button: Smaller, Compact, Proportional === */
.genre-carousel {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 0.7em;
  margin-bottom: 1.2em;
}
.genre-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 3.6em;
  min-height: 1.6em;
  padding: 0.35em 0.65em;
  font-size: 0.59em;
  border-radius: 1.1em;
  margin: 0.2em 0.25em 0.2em 0.25em;
  gap: 0.35em;
}
.genre-btn span {
  font-size: 1em;
  margin-inline-start: 0.2em;
}
.genre-btn.selected {
  background: #ffe600;
  color: #111;
  border-color: #222;
  box-shadow: 0 0 0 4px #ffe60055;
}
.genre-btn:focus {
  outline: none;
  box-shadow: 0 0 0 4px #ffe600, 0 2px 8px #0001;
}

.button.main-cta {
  display: inline-block;
  font-size: 1.18em;
  font-weight: 800;
  padding: 0.85em 2.2em;
  border-radius: 2.2em;
  border: 3px solid #6c63ff;
  background: linear-gradient(90deg, #ffe600 0%, #ff6584 100%);
  color: #23272e;
  box-shadow: 0 2px 8px #6c63ff22, 0 0 0 4px #fff inset;
  margin: 1.1em auto 0.7em auto;
  transition: background 0.18s, box-shadow 0.18s, color 0.18s, border 0.18s, transform 0.18s;
  cursor: pointer;
  outline: none;
  letter-spacing: 0.01em;
}
.button.main-cta:focus, .button.main-cta:hover {
  background: linear-gradient(90deg, #ff6584 0%, #ffe600 100%);
  color: #23272e;
  border-color: #23272e;
  box-shadow: 0 0 0 4px #ffe600, 0 2px 8px #ff658455;
  transform: scale(1.04);
}

.secondary-btn {
  display: inline-block;
  font-size: 1.08em;
  font-weight: 700;
  padding: 0.65em 1.5em;
  border-radius: 2em;
  border: 2.5px solid #6c63ff;
  background: #fffbe6;
  color: #6c63ff;
  margin: 0.3em 0.5em 0.3em 0.5em;
  box-shadow: 0 1.5px 6px #6c63ff22, 0 0 0 3px #fff inset;
  transition: background 0.18s, box-shadow 0.18s, color 0.18s, border 0.18s, transform 0.18s;
  cursor: pointer;
  outline: none;
}
.secondary-btn:focus, .secondary-btn:hover {
  background: #ffe600;
  color: #23272e;
  border-color: #23272e;
  box-shadow: 0 0 0 4px #ffe600, 0 2px 8px #ff658455;
  transform: scale(1.04);
}

/* === BEAUTIFUL FONT & TYPOGRAPHY === */
body, .card, .input-card, .result-card, .genre-btn, .button, .secondary-btn, .theme-btn, .lang-btn, .script-professional {
  font-family: 'Heebo', 'Rubik', 'Segoe UI', 'Arial', sans-serif;
  letter-spacing: 0.01em;
  font-smooth: always;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.hero-title {
  font-family: 'Rubik', 'Heebo', 'Segoe UI', 'Arial', sans-serif;
  font-weight: 900;
  letter-spacing: 0.03em;
  line-height: 1.1;
  text-shadow: 0 2px 8px #6c63ff22, 0 1px 0 #fff;
}
.hero-desc {
  font-family: 'Heebo', 'Rubik', 'Segoe UI', 'Arial', sans-serif;
  font-weight: 700;
  font-size: 1.18em;
  letter-spacing: 0.01em;
}
.section-title, .result-title {
  font-family: 'Rubik', 'Heebo', 'Segoe UI', 'Arial', sans-serif;
  font-weight: 800;
  font-size: 1.18em;
  color: var(--primary-color);
  margin-bottom: 0.3em;
  letter-spacing: 0.01em;
}
.script-professional {
  font-family: 'JetBrains Mono', 'Fira Mono', 'Courier New', Courier, monospace;
  font-size: 1.13em;
  background: #fff;
  color: #23272e;
  border-radius: 10px;
  border: 1.5px solid #e3e6ed;
  padding: 1.2em 1.5em;
  margin: 0;
  line-height: 1.62;
  white-space: pre-wrap;
  word-break: break-word;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  direction: rtl;
  font-variant-ligatures: none;
}
html.dark .script-professional {
  background: #23272e;
  color: #ffe600;
  border-color: #353a40;
  box-shadow: 0 2px 8px #48c6ef33;
}

/* === BUTTON ICONS === */
.button.main-cta::before {
  content: '\1F3AC  ';
  font-size: 1.1em;
  margin-inline-end: 0.3em;
  vertical-align: middle;
}
.secondary-btn#save-script::before {
  content: '\1F4BE  ';
  font-size: 1.1em;
  margin-inline-end: 0.2em;
  vertical-align: middle;
}
.secondary-btn#share-script::before {
  content: '\1F517  ';
  font-size: 1.1em;
  margin-inline-end: 0.2em;
  vertical-align: middle;
}
.secondary-btn#copy-script::before {
  content: '\1F4CB  ';
  font-size: 1.1em;
  margin-inline-end: 0.2em;
  vertical-align: middle;
}

/* === GENRE BUTTON ICONS === */
.genre-btn[data-value="adventure"]::before { content: '\1F9ED  '; }
.genre-btn[data-value="comedy"]::before { content: '\1F602  '; }
.genre-btn[data-value="drama"]::before { content: '\1F3AD  '; }
.genre-btn[data-value="sci-fi"]::before { content: '\1F916  '; }
.genre-btn[data-value="horror"]::before { content: '\1F47B  '; }
.genre-btn[data-value="fantasy"]::before { content: '\1F9D9  '; }
.genre-btn[data-value="romance"]::before { content: '\1F496  '; }
.genre-btn[data-value="action"]::before { content: '\1F4A5  '; }

/* === SMOOTH TRANSITIONS === */
* {
  transition: background 0.25s cubic-bezier(.4,2,.6,1), color 0.18s, box-shadow 0.18s, border 0.18s, transform 0.18s;
}

/* === FLOATING LABELS FOR TEXTAREA === */
.input-card label {
  position: relative;
  font-weight: 700;
  font-size: 1.08em;
  color: var(--primary-color);
  margin-bottom: 0.2em;
  display: block;
  transition: color 0.18s;
}
.input-textarea:focus + label,
.input-textarea:not(:placeholder-shown) + label {
  color: var(--accent-color);
}

/* === HERO ANIMATION === */
.hero-img {
  animation: popin 0.7s cubic-bezier(.4,2,.6,1), floaty 3.5s ease-in-out infinite alternate;
}
@keyframes floaty {
  0% { transform: translateY(0) scale(1); }
  100% { transform: translateY(-12px) scale(1.04); }
}

/* === FOOTER ANIMATION === */
.footer span::before {
  animation: heart-beat 1.6s infinite alternate;
}
@keyframes heart-beat {
  0% { color: #ff6584; transform: scale(1); }
  100% { color: #ffe600; transform: scale(1.18); }
}

/* === SCROLLBAR STYLING === */
::-webkit-scrollbar {
  width: 10px;
  background: #e3e6ed;
  border-radius: 8px;
}
::-webkit-scrollbar-thumb {
  background: #bdbdf7;
  border-radius: 8px;
}
html.dark ::-webkit-scrollbar {
  background: #23272e;
}
html.dark ::-webkit-scrollbar-thumb {
  background: #353a40;
}

/* === TEXT SELECTION === */
::selection {
  background: #ffe600;
  color: #23272e;
}
html.dark ::selection {
  background: #48c6ef;
  color: #23272e;
}

/* highlight תיבת תוצאה */
#script-output {
  max-width: 100%;
  max-height: 220px;
  overflow-x: auto;
  overflow-y: auto;
  background: #f7f7fa;
  border-radius: 12px;
  border: 1px solid #e3e6ed;
  margin: 0.5em 0 1em 0;
  padding: 1em 1.2em;
  font-size: 1.05em;
  white-space: pre-wrap;
  word-break: break-word;
  box-sizing: border-box;
  transition: box-shadow var(--transition);
  box-shadow: 0 2px 8px rgba(0,0,0,0.07);
  animation: highlight-fade 1.2s cubic-bezier(.4,2,.6,1);
}

@keyframes highlight-fade {
  0% { box-shadow: 0 0 0 6px #f7b80155; }
  100% { box-shadow: 0 2px 8px rgba(0,0,0,0.07); }
}

html.dark #script-output {
  background: #181c20;
  color: #ffe600;
  border-color: #353a40;
  box-shadow: 0 2px 8px #48c6ef33;
}

.footer {
  background: none;
  color: #6c63ff;
  font-size: 1em;
  opacity: 0.85;
  text-align: center;
  margin: 2em 0 0 0;
}

.footer span::before {
  content: "❤️ ";
  font-size: 1.1em;
}

.footer-links a {
  color: #6c63ff;
  text-decoration: underline dotted;
  margin: 0 0.5em;
  font-size: 0.98em;
  transition: color var(--transition);
  border-bottom: 2px solid transparent;
}

.footer-links a:hover {
  color: #48c6ef;
  border-bottom: 2px solid var(--accent-color);
}

/* === Journal Textarea Larger === */
.input-textarea {
  min-height: 262px;
  height: 366px;
  max-height: 524px;
  font-size: 1.52em;
  padding: 1.55em 1.43em;
}
@media (max-width: 600px) {
  .input-textarea {
    min-height: 119px;
    height: 167px;
    max-height: 262px;
    font-size: 1.19em;
    padding: 0.95em 0.83em;
  }
}

/* === Professional Script Block === */
.script-professional {
  font-family: 'Courier New', Courier, monospace;
  font-size: 1.08em;
  background: #fff;
  color: #23272e;
  border-radius: 10px;
  border: 1.5px solid #e3e6ed;
  padding: 1.1em 1.3em;
  margin: 0;
  line-height: 1.55;
  white-space: pre-wrap;
  word-break: break-word;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  direction: rtl;
}
html.dark .script-professional {
  background: #23272e;
  color: #ffe600;
  border-color: #353a40;
  box-shadow: 0 2px 8px #48c6ef33;
}

/* === RESPONSIVE FINE-TUNING === */
@media (max-width: 900px) {
  .header-row, .hero-content, .card, .input-card, .result-card {
    max-width: 98vw;
    padding: 0.7em 0.5em;
  }
  .logo {
    width: 36px;
    height: 36px;
  }
  .hero-img {
    width: 80px;
    height: 80px;
  }
  .genre-btn {
    min-width: 45vw;
    font-size: 0.95em;
    padding: 0.35em 0.35em;
  }
  .input-textarea {
    min-height: 119px;
    height: 167px;
    max-height: 262px;
    font-size: 1.09em;
    padding: 0.95em 0.83em;
  }
  .script-professional {
    font-size: 0.98em;
    padding: 0.7em 0.5em;
  }
}
@media (max-width: 500px) {
  .header-row, .hero-content, .card, .input-card, .result-card {
    padding: 0.3em 0.1em;
  }
  .hero-title {
    font-size: 1.3em;
  }
  .hero-img {
    width: 56px;
    height: 56px;
  }
  .logo {
    width: 28px;
    height: 28px;
  }
  .genre-btn {
    min-width: 90vw;
    font-size: 0.85em;
    padding: 0.25em 0.15em;
  }
  .input-textarea {
    font-size: 0.98em;
    padding: 0.5em 0.3em;
  }
  .script-professional {
    font-size: 0.89em;
    padding: 0.4em 0.2em;
  }
}

/* === RTL/LTR SUPPORT === */
[dir="rtl"] .card, [dir="rtl"] .input-card, [dir="rtl"] .result-card, [dir="rtl"] .script-professional {
  direction: rtl;
  text-align: right;
}
[dir="ltr"] .card, [dir="ltr"] .input-card, [dir="ltr"] .result-card, [dir="ltr"] .script-professional {
  direction: ltr;
  text-align: left;
}

/* === ACCESSIBILITY === */
:focus-visible {
  outline: 3px solid #ffe600;
  outline-offset: 2px;
}
[aria-live] {
  outline: none !important;
}

/* === ELEVATION/DEPTH === */
.card, .input-card, .result-card {
  box-shadow: 0 4px 24px rgba(44,62,80,0.10), 0 1.5px 6px #6c63ff22;
}
html.dark .card, html.dark .input-card, html.dark .result-card {
  box-shadow: 0 4px 24px #48c6ef33, 0 1.5px 6px #ffe60033;
}
