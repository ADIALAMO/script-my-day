/**
 * בונה prompt ממוקד וברור ליצירת תסריט קומיקס מקצועי בעברית, נאמן לכל האירועים בטקסט, עם שמות לדמויות אך ללא המצאת עלילה חדשה, ומבנה של סצנות בלבד
 * @param {string} userText - הטקסט המקורי של המשתמש (רשימת אירועים)
 * @param {string} selectedGenre - הז'אנר הנבחר (למשל: 'דרמה')
 * @returns {string} - prompt מדויק ל-LLM
 */
function buildComicScriptPrompt(userText, selectedGenre) {
  return `
הוראות ליצירת תסריט קומיקס מקצועי בעברית:

- הפוך כל אירוע, פעולה, מפגש או רגש שמופיעים בטקסט של המשתמש לסצנה נפרדת, לפי הסדר.
- אל תשמיט אף אירוע, רגש או פעולה שמופיעים בטקסט.
- אין להמציא עלילה חדשה, סצנות חדשות או אירועים שלא מופיעים בטקסט. מותר להמציא שמות לדמויות בלבד, אך אסור להמציא דמויות חדשות שלא משתמעות מהטקסט.
- מותר להוסיף דיאלוגים קצרים, מחשבות או שמות לדמויות – רק אם הם תואמים את רוח האירוע המקורי.
- שמור על קו העלילה, הסדר והתחושות של הטקסט המקורי בלבד.
- כתוב כל סצנה בפורמט מקצועי:
סצנה X
פנים/חוץ. מקום – זמן
תיאור ויזואלי קצר.
דיאלוג (אם יש).
מחשבות (אם יש): "..."

- כתוב בעברית בלבד, בסגנון קולנועי מקצועי, בזמן הווה.
- אם הטקסט לא כולל עלילה כלל, מותר להמציא עלילה פשוטה המבוססת על האירועים בלבד.

הטקסט של המשתמש:
"""${userText}"""

צור תסריט קומיקס מקצועי בעברית, בז'אנר: ${selectedGenre}, לפי הכללים הנ"ל, כאשר כל סצנה מייצגת אירוע מהטקסט בלבד.
`.trim();
}

module.exports = { buildComicScriptPrompt };
